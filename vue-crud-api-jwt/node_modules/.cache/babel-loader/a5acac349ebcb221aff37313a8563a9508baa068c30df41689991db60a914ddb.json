{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      items: [],\n      // Array to store items\n      newItemText: '',\n      // Text for new item\n      editIndex: null,\n      // Index of item being edited (-1 for new item)\n      editedItemText: '' // Text for the item being edited\n    };\n  },\n\n  mounted() {\n    this.fetchItems();\n  },\n  methods: {\n    fetchItems() {\n      const sessionCookie = document.cookie.replace(/(?:(?:^|.*;\\s*)access_Token\\s*\\=\\s*([^;]*).*$)|^.*$/, '$1');\n      const blobCookie = document.cookie.replace(/(?:(?:^|.*;\\s*)blob_data\\s*\\=\\s*([^;]*).*$)|^.*$/, '$1');\n      axios.get('http://localhost:8082/api/items', {\n        withCredentials: true,\n        headers: {\n          Authorization: `Bearer ${sessionCookie}`,\n          Cookie: `blob_data=${blobCookie}`\n        }\n      }).then(response => {\n        this.items = response.data;\n      }).catch(error => {\n        console.error('Error fetching items:', error);\n      });\n    },\n    addItem() {\n      const sessionCookie = document.cookie.replace(/(?:(?:^|.*;\\s*)access_Token\\s*\\=\\s*([^;]*).*$)|^.*$/, '$1');\n      const blobCookie = document.cookie.replace(/(?:(?:^|.*;\\s*)blob_data\\s*\\=\\s*([^;]*).*$)|^.*$/, '$1');\n      const newItem = {\n        text: this.newItemText\n      };\n      console.log(newItem);\n      axios.post('http://localhost:8082/api/items', newItem, {\n        headers: {\n          Authorization: `Bearer ${sessionCookie}`,\n          Cookie: `blob_data=${blobCookie}`\n        }\n      }).then(response => {\n        this.items.push(response.data);\n        this.newItemText = '';\n      }).catch(error => {\n        console.error('Error adding item:', error);\n      });\n    },\n    editItem(index) {\n      this.editIndex = index;\n      this.editedItemText = this.items[index].text;\n    },\n    updateItem() {\n      const sessionCookie = document.cookie.replace(/(?:(?:^|.*;\\s*)access_Token\\s*\\=\\s*([^;]*).*$)|^.*$/, '$1');\n      const blobCookie = document.cookie.replace(/(?:(?:^|.*;\\s*)blob_data\\s*\\=\\s*([^;]*).*$)|^.*$/, '$1');\n      const updatedItem = {\n        id: this.items[this.editIndex].id,\n        text: this.editedItemText\n      };\n      axios.put(`http://localhost:8082/api/items/${updatedItem.id}`, updatedItem, {\n        headers: {\n          Authorization: `Bearer ${sessionCookie}`,\n          Cookie: `blob_data=${blobCookie}`\n        }\n      }).then(() => {\n        this.items[this.editIndex].text = this.editedItemText;\n        this.cancelEdit();\n      }).catch(error => {\n        console.error('Error updating item:', error);\n      });\n    },\n    cancelEdit() {\n      this.editIndex = null;\n      this.editedItemText = '';\n    },\n    deleteItem(itemId) {\n      const sessionCookie = document.cookie.replace(/(?:(?:^|.*;\\s*)access_Token\\s*\\=\\s*([^;]*).*$)|^.*$/, '$1');\n      const blobCookie = document.cookie.replace(/(?:(?:^|.*;\\s*)blob_data\\s*\\=\\s*([^;]*).*$)|^.*$/, '$1');\n      axios.delete(`http://localhost:8082/api/items/${itemId}`, {\n        withCredentials: true,\n        headers: {\n          Authorization: `Bearer ${sessionCookie}`,\n          Cookie: `blob_data=${blobCookie}`\n        }\n      }).then(() => {\n        this.items = this.items.filter(item => item.id !== itemId);\n      }).catch(error => {\n        console.error('Error deleting item:', error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","data","items","newItemText","editIndex","editedItemText","mounted","fetchItems","methods","sessionCookie","document","cookie","replace","blobCookie","get","withCredentials","headers","Authorization","Cookie","then","response","catch","error","console","addItem","newItem","text","log","post","push","editItem","index","updateItem","updatedItem","id","put","cancelEdit","deleteItem","itemId","delete","filter","item"],"sources":["D:\\Project\\VUEJSSPRING_CRUD_JWT\\vue-crud-api-jwt\\src\\views\\Items.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <h1>Items</h1>\r\n  \r\n      <!-- Form for creating new item -->\r\n      <form @submit.prevent=\"addItem\">\r\n        <input v-model=\"newItemText\" type=\"text\" placeholder=\"Enter item text\" required>\r\n        <button type=\"submit\">Add Item</button>\r\n      </form>\r\n  \r\n      <!-- List of items -->\r\n      <ul>\r\n        <li v-for=\"(item, index) in items\" :key=\"item.id\">\r\n          <span v-if=\"index !== editIndex\">\r\n            {{ item.text }}\r\n            <button @click=\"editItem(index)\">Edit</button>\r\n          </span>\r\n          <span v-else>\r\n            <form @submit.prevent=\"updateItem\">\r\n              <input v-model=\"editedItemText\" type=\"text\" required>\r\n              <button type=\"submit\">Update</button>\r\n              <button @click=\"cancelEdit\">Cancel</button>\r\n            </form>\r\n          </span>\r\n          <button @click=\"deleteItem(item.id)\">Delete</button>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n        items: [],                // Array to store items\r\n        newItemText: '',          // Text for new item\r\n        editIndex: null,          // Index of item being edited (-1 for new item)\r\n        editedItemText: '',       // Text for the item being edited\r\n      };\r\n    },\r\n    mounted() {\r\n      this.fetchItems();\r\n    },\r\n    methods: {\r\n      fetchItems() {\r\n\r\n\r\n        const sessionCookie = document.cookie.replace(\r\n          /(?:(?:^|.*;\\s*)access_Token\\s*\\=\\s*([^;]*).*$)|^.*$/,\r\n          '$1'\r\n        );\r\n        const blobCookie = document.cookie.replace(\r\n            /(?:(?:^|.*;\\s*)blob_data\\s*\\=\\s*([^;]*).*$)|^.*$/,\r\n            '$1'\r\n          );\r\n\r\n        \r\n        axios.get('http://localhost:8082/api/items', {\r\n          withCredentials: true,\r\n\r\n          headers: {\r\n            Authorization: `Bearer ${sessionCookie}`,\r\n            Cookie: `blob_data=${blobCookie}`\r\n          },\r\n        })\r\n          .then(response => {\r\n            this.items = response.data;\r\n          })\r\n          .catch(error => {\r\n            console.error('Error fetching items:', error);\r\n          });\r\n      },\r\n      addItem() {\r\n\r\n        const sessionCookie = document.cookie.replace(\r\n          /(?:(?:^|.*;\\s*)access_Token\\s*\\=\\s*([^;]*).*$)|^.*$/,\r\n          '$1'\r\n        );\r\n\r\n        const blobCookie = document.cookie.replace(\r\n            /(?:(?:^|.*;\\s*)blob_data\\s*\\=\\s*([^;]*).*$)|^.*$/,\r\n            '$1'\r\n          );\r\n\r\n        const newItem = {\r\n          text: this.newItemText,\r\n        };\r\n        console.log(newItem);\r\n        axios.post('http://localhost:8082/api/items', newItem, {\r\n          headers: {\r\n            Authorization: `Bearer ${sessionCookie}`,\r\n            Cookie: `blob_data=${blobCookie}`\r\n\r\n          },\r\n        })\r\n          .then(response => {\r\n            this.items.push(response.data);\r\n            this.newItemText = '';\r\n          })\r\n          .catch(error => {\r\n            console.error('Error adding item:', error);\r\n          });\r\n      },\r\n      editItem(index) {\r\n        this.editIndex = index;\r\n        this.editedItemText = this.items[index].text;\r\n      },\r\n      updateItem() {\r\n\r\n        const sessionCookie = document.cookie.replace(\r\n          /(?:(?:^|.*;\\s*)access_Token\\s*\\=\\s*([^;]*).*$)|^.*$/,\r\n          '$1'\r\n        );\r\n\r\n        const blobCookie = document.cookie.replace(\r\n            /(?:(?:^|.*;\\s*)blob_data\\s*\\=\\s*([^;]*).*$)|^.*$/,\r\n            '$1'\r\n          ); \r\n        const updatedItem = {\r\n          id: this.items[this.editIndex].id,\r\n          text: this.editedItemText,\r\n        };\r\n  \r\n        axios.put(`http://localhost:8082/api/items/${updatedItem.id}`, updatedItem, {\r\n          headers: {\r\n            Authorization: `Bearer ${sessionCookie}`,\r\n            Cookie: `blob_data=${blobCookie}`\r\n\r\n          },\r\n        })\r\n          .then(() => {\r\n            this.items[this.editIndex].text = this.editedItemText;\r\n            this.cancelEdit();\r\n          })\r\n          .catch(error => {\r\n            console.error('Error updating item:', error);\r\n          });\r\n      },\r\n      cancelEdit() {\r\n        this.editIndex = null;\r\n        this.editedItemText = '';\r\n      },\r\n      deleteItem(itemId) {\r\n        const sessionCookie = document.cookie.replace(\r\n          /(?:(?:^|.*;\\s*)access_Token\\s*\\=\\s*([^;]*).*$)|^.*$/,\r\n          '$1'\r\n        );\r\n\r\n        const blobCookie = document.cookie.replace(\r\n            /(?:(?:^|.*;\\s*)blob_data\\s*\\=\\s*([^;]*).*$)|^.*$/,\r\n            '$1'\r\n          );\r\n\r\n        axios.delete(`http://localhost:8082/api/items/${itemId}`, {\r\n          withCredentials: true,\r\n          headers: {\r\n            Authorization: `Bearer ${sessionCookie}`,\r\n            Cookie: `blob_data=${blobCookie}`\r\n\r\n          },\r\n        })\r\n          .then(() => {\r\n            this.items = this.items.filter(item => item.id !== itemId);\r\n          })\r\n          .catch(error => {\r\n            console.error('Error deleting item:', error);\r\n          });\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}